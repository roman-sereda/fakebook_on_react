/**
 * @flow
 * @jsx React.DOM
*/
var React = require('react');
var Base = require('./base');

var Number = React.createClass({displayName: "Number",
  propTypes: {
    pattern: React.PropTypes.string.isRequired
  },

  getDefaultProps:function() {
    return {
      pattern: '[0-9\.]+'
    };
  },

  render:function()                {
    return React.createElement(Base, React.__spread({},  this.props, {type: "text", onChange: this._handleChange}));
  },

  _handleChange:function(e                            ) {
    var match = e.target.value.match(new RegExp(this.props.pattern, 'g'));

    if (match && match.join('') === e.target.value) {
      this.props.setValue(e.target.value);
    }
  }
});

module.exports = Number;
